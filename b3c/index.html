<p id="out">wait</p>
<script>
const BASE3CODE_CHARS = 'ĞĞ°Ğ‘Ğ±Ğ’Ğ²Ğ“Ğ³Ğ”Ğ´Ğ•ĞµĞÑ‘Ğ–Ğ¶Ğ—Ğ·Ğ˜Ğ¸Ğ™Ğ¹ĞšĞºĞ›Ğ»ĞœĞ¼ĞĞ½ĞĞ¾ĞŸĞ¿Ğ Ñ€Ğ¡ÑĞ¢Ñ‚Ğ£ÑƒĞ¤Ñ„Ğ¥Ñ…Ğ¦Ñ†Ğ§Ñ‡Ğ¨ÑˆĞ©Ñ‰ĞªÑŠĞ«Ñ‹Ğ¬ÑŒĞ­ÑĞ®ÑĞ¯Ñ0Â¹â°â¿âˆ…1Â½â…“Â¼â…•â…™â…â…›â…‘â…’2â…”â…–3Â¾â…—â…œ4â…˜5â…šâ…6â…789â°€â°â°‚â°ƒâ°„â°…â°†â°‡â°ˆâ°‰â°Šâ°‹â°Œâ°â°â°â°â°‘â°’â°“â°”â°•Ğ„ê™€Ğ†Ğ‡Ñ¸ê™Š&Â§Â¶#â„–â‚½â‚¿Â¢Â¥Â£$â‚¬%â€°_-â€”â€“+Â±()âŸ¨âŸ©/\\@~`*â€¦"â€â€â€œÂ«Â»\'â€™â€šâ€˜â€¹â€º:;!Â¡?Â¿Ã—Ã·^âˆšâˆ†<â‰¤>â‰¥=â‰ â‰ˆÂ°âŒ€â€¢â„¢Â©Â®|{}[]ğŸ˜€ğŸ˜ƒğŸ˜„ğŸ¥³ğŸ—¨ï¸âš ï¸ğŸŸ¥â¬œğŸ”²ğŸ’»ğŸ‘‘ğŸ§ğŸ–¥ï¸ğŸˆAaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz ';


const charToCode = {};
for (let i = 0; i < BASE3CODE_CHARS.length; i++) {
  charToCode[BASE3CODE_CHARS[i]] = String(i + 1).padStart(3, '0');
}

function base3codeEncode(text) {
  let result = '';
  for (const char of text) {
    if (!(char in charToCode)) {
      throw new Error(`Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ» "${char}" Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ`);
    }
    result += charToCode[char];
  }
  return result;
}

function getUrlParams() {
  const params = new URLSearchParams(window.location.search);
  return {
    t: params.get('t') || '',
    d: params.get('d') || ''
  };
}

(async () => {
  try {
    const { t: text, d: action } = getUrlParams();


    if (action !== 'encode') {
      document.getElementById('out').textContent = 'ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ â€” "encode"';
      return;
    }

    if (!text) {
      document.getElementById('out').textContent = 'ĞÑˆĞ¸Ğ±ĞºĞ°: Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ "t" Ğ¿ÑƒÑÑ‚';
      return;
    }

    const encoded = base3codeEncode(text);
    document.getElementById('out').textContent = encoded;
  } catch (error) {
    document.getElementById('out').textContent = `ĞÑˆĞ¸Ğ±ĞºĞ°: ${error.message}`;
  }
})();
</script>
